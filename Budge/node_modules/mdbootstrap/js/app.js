// Global Variables......................................................................................
let myBills = [];


// Page Elements.........................................................................................
let incomeField = document.getElementById("income");
let submitButton = document.getElementById("submit");
let addBillButton = document.getElementById("addBill");
let listOfBills = document.getElementById("listOfBills");
let billName = document.getElementById("billName");
let billAmount = document.getElementById("billAmount");



// Utility Functions......................................................................................
function collectValue(n) {
  return n.value;
}

function addToArray(a, n) {
  a.push(parseInt(n));
}

function stripFieldValue(n, x) {
  n.value = "";
  x.value = "";
}

function addToList(list, name, amount) {
  let text = name + " " + " $" + amount;
  let li = document.createElement("li");
  li.appendChild(document.createTextNode(text));
  list.appendChild(li);
}


// Ingest Info..............................................................................................
function consumeBillInfo() {
  if (billName.value != "" && billAmount.value != "") {

    let name = collectValue(billName);
    let amount = collectValue(billAmount);

    addToArray(myBills, amount);
    addToList(listOfBills, name, amount);

  } else {
    alert("Please fill in both fields!");
  }

}


// Calculations.............................................................................................
function sumOfBills() {
  let x = myBills.reduce(function(a, c) {
    return a + c;
  });
  return x;
}

function calculateLeftOver(income, bills) {
  let x = income - bills;
  return x;
}

// Buttons............................................................................................
function addBill() {
  consumeBillInfo();
  stripFieldValue(billName, billAmount);
}

function submit() {
	let income = collectValue(incomeField);
  let bills = sumOfBills();

  let total = calculateLeftOver(income, bills);
  alert(total);
  return total;

}


// Event Listeners.....................................................................................
submitButton.addEventListener("click", submit);
addBillButton.addEventListener("click", addBill);
